<div class="flex-row-center">
  @if (label(); as buttonLabel) {
    <button
      mat-stroked-button
      [color]="color()"
      class="mat-{{color()}}"
      (click)="reload()"
      [matTooltip]="tooltipMessage()"
      [disabled]="buttonDisabled() === true"
      id="reloadButton">
      <div class="flex-row-center">
        @if (loadInProgress()) {
          <mat-spinner [diameter]="24" id="loadingSpinner"></mat-spinner>
        } @else {
          <mat-icon [ngClass]="buttonIcon()" [color]="color()"></mat-icon>
        }

        <span style="width: 0.5rem"></span>

        {{ buttonLabel }}
      </div>
    </button>
  } @else {
    <button
      mat-icon-button
      [color]="color()"
      class="mat-{{color()}}"
      (click)="reload()"
      [matTooltip]="tooltipMessage()"
      [disabled]="buttonDisabled() === true"
      id="reloadButton">
      @if (loadInProgress()) {
        <mat-spinner [diameter]="24" id="loadingSpinner"></mat-spinner>
      } @else {
        <mat-icon [ngClass]="buttonIcon()" [color]="color()"></mat-icon>
      }
    </button>
  }

  @if (autoReloadEnabled()) {
    <ngssm-auto-reload class="with-margin-left-8" [autoReloadAction]="reloadAction"></ngssm-auto-reload>
  }
</div>
